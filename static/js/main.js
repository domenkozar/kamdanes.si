!function(e){function t(n){if(a[n])return a[n].exports;var c=a[n]={exports:{},id:n,loaded:!1};return e[n].call(c.exports,c,c.exports,t),c.loaded=!0,c.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t){var a=document.getElementById("events"),n=React.createClass({displayName:"Events",componentDidMount:function(){jQuery.timeago.settings.allowFuture=!0,jQuery(document).ready(function(){$(".timeago").timeago()})},getInitialState:function(){return{showDescription:{}}},handleClick:function(e){var t=this.state.showDescription,a=parseInt($(e.target).closest(".btn-primary")[0].id);t[a]?t[a]=!1:t[a]=!0,this.setState({showDescription:t})},render:function(){var e=this,t={maxWidth:"600px",margin:"5px auto"},a={width:"100%"},n=this.props.events.map(function(t){var n,c,i;return n=t.price?React.createElement("i",null,"Vstopnina: ",t.price," EUR"):"",c=e.state.showDescription[t.id]?React.createElement("div",{dangerouslySetInnerHTML:{__html:t.description}}):"",i=e.state.showDescription[t.id]?"Skrij opis":"Opis dogodka",React.createElement("li",{className:"list-group-item",key:t.id},React.createElement("div",{className:"media"},React.createElement("a",{className:"media-left",href:t.link},React.createElement("img",{src:t.image,alt:"Event image",width:"128px"})),React.createElement("div",{className:"media-body",style:a},React.createElement("h4",{className:"media-heading"},React.createElement("a",{href:t.link},t.title)),React.createElement("h4",null,React.createElement("span",{className:"label label-danger"},t.location)," "),React.createElement("h5",null,React.createElement("i",{className:""},"Začetek: ",React.createElement("abbr",{className:"timeago",title:t.time},t.time)),React.createElement("span",{className:"label label-primary"},n)),c,React.createElement("button",{className:"btn btn-primary",id:t.id,onClick:e.handleClick},React.createElement("span",{className:"glyphicon glyphicon-info-sign"}),"  ",i))))});return 0===this.props.events.length&&(n=React.createElement("li",{className:"text-center"},React.createElement("i",null,"Ni dogodkov."))),React.createElement("ul",{className:"list-group",style:t},React.createElement("li",{className:"list-unstyled text-center"},React.createElement("h3",null,"Danes v Ljubljani")),n)}});e.exports=function(){$.get("/events").success(function(e){React.render(React.createElement(n,{events:e.events}),a)}).fail(function(){a.innerHTML="<p class='error'>Error with a request</p>"})}}]);